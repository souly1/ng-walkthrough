<div class="walkthrough-background" ng-class="{'walkthrough-active': isActive}" ng-click="onCloseClicked($event)" on-touch="onCloseTouched($event)">
    <div class="walkthrough-container walkthrough-container-transparency" ng-show="walkthroughType=='transparency'">
        <div class="walkthrough-inner" ng-class="{'walkthrough-top': (!forceCaptionLocation || forceCaptionLocation=='TOP'), 'walkthrough-bottom': forceCaptionLocation=='BOTTOM'}">
            <div class="walkthrough-transclude" ng-transclude></div>
            <div class="walkthrough-non-transclude-template" ng-show="!hasTransclude">
                <div class="walkthrough-text-container">
                    <pre class="walkthrough-element walkthrough-text" ng-bind="mainCaption">
                    </pre>
                </div>
                <img class="walkthrough-element walkthrough-icon" ng-show="icon && icon!='arrow'" ng-src="{{walkthroughIcon}}">
                <div class="walkthrough-element walkthrough-arrow" ng-show="icon=='arrow'"></div>
                <button class="walkthrough-element walkthrough-button-positive {{doneButtonClass}} walkthrough-done-button" type="button" ng-if="useButton" ng-click="onCloseClicked($event)" on-touch="onCloseTouched($event)">
                    {{buttonCaption}}
                </button>
            </div>
        </div>
    </div>
    <div class="walkthrough-container walkthrough-container-tip" ng-show="walkthroughType=='tip'">
        <div class="walkthrough-inner" ng-class="{'walkthrough-top': ((!forceCaptionLocation && !tipLocation) || forceCaptionLocation=='TOP' || tipLocation =='TOP'), 'walkthrough-bottom': (forceCaptionLocation=='BOTTOM' || tipLocation =='BOTTOM')}">
            <img class="walkthrough-element walkthrough-tip-icon-text-box" ng-class="{'walkthrough-tip-icon-image-front': tipIconLocation=='FRONT', 'walkthrough-tip-icon-image-back': tipIconLocation=='BACK'}" ng-show="icon!='arrow'" ng-src="{{icon}}" alt="icon">
            <button class="walkthrough-done-button walkthrough-tip-done-button-text-box" type="button" ng-if="useButton" ng-click="onCloseClicked($event)" on-touch="onCloseTouched($event)">
                <img class="walkthrough-tip-button-image-text-box" ng-src="{{closeIcon}}" alt="x">
            </button>
            <pre class="walkthrough-element walkthrough-tip-text-box" ng-class="{'walkthrough-tip-text-box-color-black': tipColor=='BLACK', 'walkthrough-tip-text-box-color-white': tipColor=='WHITE'}" ng-bind="mainCaption">
            </pre>
        </div>
    </div>
    <!-- Always show as this gives us the gray background -->
    <div ng-show="walkthroughType=='transparency' || focusElementId" class="walkthrough-hole" ng-class="{'walkthrough-hole-round': isRound}">
    </div>
    <div ng-show="hasGlow && focusElementId" class="walkthrough-hole walkthrough-hole-glow" ng-class="{'walkthrough-hole-round': isRound}">
    </div>
</div>